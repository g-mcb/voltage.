<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>voltage. | ai</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
<link rel="stylesheet" href="/config/custom.css"/>
<link rel="stylesheet" href="/config/main.css">

  
<style>
:root {
  --blue:#003da5;
  --blue-dark:#002f82;
  --white:#fff;
  --muted:#cdd8ff;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:var(--blue);
  color:#fff;
  height:100vh;
  display:flex;
  flex-direction:column;
  font-family:Ubuntu,sans-serif;
}
.hero{text-align:center;margin-top:60px}
.hero h1{font-size:64px;font-weight:800}
.chat-wrapper{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:flex-end;
  padding:30px 16px;
}
.chat{
  width:100%;
  max-width:720px;
  background:var(--blue-dark);
  border-radius:14px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.chat-body{
  flex:1;
  padding:16px;
  overflow-y:auto;
}
.message{
  margin-bottom:12px;
  padding:8px 12px;
  border-radius:6px;
  line-height:1.5;
  font-size:15px;
  background:rgba(255,255,255,.05);
}
.user-message{text-align:right}
.ai-message{color:var(--muted)}
.chat-input{
  display:flex;
  align-items:center;
  gap:4px;
  padding:6px;
  border-top:1px solid #ffffff22;
}
.chat-input input{
  flex:1;
  padding:12px;
  border:none;
  outline:none;
  background:transparent;
  color:#fff;
}
.chat-input button{
  width:40px;
  height:40px;
  border:none;
  background:transparent;
  color:#fff;
  cursor:pointer;
}
.clear-btn{color:#ff4b4b}
img{
  max-width:100%;
  border-radius:8px;
  margin-top:6px;
}
.footer{
  text-align:center;
  font-size:12px;
  opacity:.7;
  padding:10px;
}
</style>
</head>
<body>

<div class="hero"><h1>voltage.</h1></div>

<div class="chat-wrapper">
  <div class="chat">
    <div class="chat-body" id="chatBody"></div>

    <div class="chat-input">
      <button class="clear-btn" id="clearChatBtn">
        <i class="fa-solid fa-trash"></i>
      </button>

      <button id="uploadBtn" title="Upload">
        <i class="fa-solid fa-paperclip"></i>
      </button>

      <input id="aiInput" placeholder="Type a message or /imagine something..." />

      <button id="sendMsg">
        <i class="fa-solid fa-arrow-up"></i>
      </button>
    </div>
  </div>
</div>

<div class="footer">
  Credit to <a href="https://petezahgames.com/" style="color:#fff">PeteZah</a>
</div>

<script>
const chatBody = document.getElementById("chatBody");
const aiInput = document.getElementById("aiInput");
const sendMsg = document.getElementById("sendMsg");
const clearChatBtn = document.getElementById("clearChatBtn");
const uploadBtn = document.getElementById("uploadBtn");

function appendText(msg, role){
  const div=document.createElement("div");
  div.className=`message ${role}-message`;
  div.textContent=msg;
  chatBody.appendChild(div);
  chatBody.scrollTop=chatBody.scrollHeight;
}

function appendImage(src, role){
  const div=document.createElement("div");
  div.className=`message ${role}-message`;
  const img=document.createElement("img");
  img.src=src;
  div.appendChild(img);
  chatBody.appendChild(div);
  chatBody.scrollTop=chatBody.scrollHeight;
}

function sendMessage(){
  const msg=aiInput.value.trim();
  if(!msg) return;
  aiInput.value="";
  appendText(msg,"user");

  // ===== /imagine COMMAND =====
  if(msg.startsWith("/imagine")){
    const prompt = msg.replace("/imagine","").trim();
    if(!prompt){
      appendText("Please provide an image prompt.","ai");
      return;
    }

    const imgUrl =
      `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?seed=${Date.now()}`;

    appendImage(imgUrl,"ai");
    return;
  }

  // ===== NORMAL AI TEXT =====
  appendText("Thinking...","ai");

  fetch(`https://text.pollinations.ai/${encodeURIComponent(msg)}`)
    .then(r=>r.text())
    .then(t=>{
      chatBody.lastChild.remove();
      appendText(t,"ai");
    })
    .catch(()=>{
      chatBody.lastChild.remove();
      appendText("Error contacting AI.","ai");
    });
}

sendMsg.onclick=sendMessage;
aiInput.addEventListener("keydown",e=>{
  if(e.key==="Enter") sendMessage();
});

clearChatBtn.onclick=()=>{
  if(confirm("Clear chat?")){
    chatBody.innerHTML="";
    appendText(
      "Hi, how can I assist you today? I am voltage. ai.",
      "ai"
    );
  }
};

// ===== FILE UPLOAD =====
const fileInput=document.createElement("input");
fileInput.type="file";
fileInput.accept="image/*";
fileInput.style.display="none";
document.body.appendChild(fileInput);

uploadBtn.onclick=()=>fileInput.click();

fileInput.onchange=()=>{
  const file=fileInput.files[0];
  if(!file) return;

  const reader=new FileReader();
  reader.onload=e=>{
    appendImage(e.target.result,"user");

    const imgUrl =
      `https://image.pollinations.ai/prompt/${encodeURIComponent(file.name)}?seed=${Date.now()}`;

    appendImage(imgUrl,"ai");
  };
  reader.readAsDataURL(file);
};

// Initial message
appendText(
  "Hi, how can I assist you today? I am voltage. ai, your friendly AI developed by the voltage. team!"
);
</script>

</body>
</html>
